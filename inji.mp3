<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Play Inji</title>
  <style>
    body { font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; padding: 24px; background:#f7f7fb; color:#111; }
    .player { max-width:640px; margin:0 auto; background:#fff; border-radius:12px; padding:18px; box-shadow:0 6px 24px rgba(20,20,50,.08); }
    .controls { display:flex; gap:12px; align-items:center; margin-top:12px; }
    button { padding:8px 12px; border-radius:8px; border:1px solid #ddd; background:#f5f6fb; cursor:pointer; }
    .progress { flex:1; height:8px; background:#eee; border-radius:8px; overflow:hidden; position:relative; cursor:pointer; }
    .progress > i { position:absolute; left:0; top:0; bottom:0; width:0%; background:#6c63ff; }
    .time { width:62px; text-align:right; font-size:13px; color:#666; }
    .meta { font-size:14px; color:#222; }
    a { color:#6c63ff; text-decoration:none; }
  </style>
</head>
<body>
  <div class="player">
    <div class="meta">
      <strong>Inji (inji.mp3)</strong><br />
      From your repository: <a href="https://github.com/kavishu223ss-ux/Valentine-surpise/blob/d4c61257bee7a8309407c42758e45993a70694bf/inji.mp3.mp3" target="_blank" rel="noopener">GitHub → inji.mp3.mp3</a>
    </div>

    <!-- Use the raw GitHub URL so browsers can load the MP3 directly -->
    <audio id="audio" preload="metadata" src="https://raw.githubusercontent.com/kavishu223ss-ux/Valentine-surpise/d4c61257bee7a8309407c42758e45993a70694bf/inji.mp3.mp3"></audio>

    <div class="controls" style="margin-top:18px">
      <button id="play">Play ▶</button>
      <button id="pause" style="display:none">Pause ⏸</button>
      <div class="progress" id="progress" title="Click to seek">
        <i id="bar"></i>
      </div>
      <div class="time" id="time">0:00</div>
    </div>

    <div style="display:flex; gap:12px; align-items:center; margin-top:12px;">
      <label style="display:flex;align-items:center;gap:8px">
        Volume
        <input id="volume" type="range" min="0" max="1" step="0.01" value="1" />
      </label>
      <label style="display:flex;align-items:center;gap:8px">
        <input id="loop" type="checkbox" /> Loop
      </label>
      <a href="https://raw.githubusercontent.com/kavishu223ss-ux/Valentine-surpise/d4c61257bee7a8309407c42758e45993a70694bf/inji.mp3.mp3" download target="_blank" rel="noopener">Download</a>
    </div>

    <p style="margin-top:12px; font-size:13px; color:#666">
      Note: modern browsers block autoplay without user interaction. Click Play to start. If playback fails, try opening this page from a simple static server (or allow audio in browser).
    </p>
  </div>

  <script>
    const audio = document.getElementById('audio');
    const playBtn = document.getElementById('play');
    const pauseBtn = document.getElementById('pause');
    const bar = document.getElementById('bar');
    const progress = document.getElementById('progress');
    const time = document.getElementById('time');
    const volume = document.getElementById('volume');
    const loop = document.getElementById('loop');

    function formatTime(s){
      if (!isFinite(s)) return '0:00';
      const m = Math.floor(s/60);
      const sec = Math.floor(s%60).toString().padStart(2,'0');
      return m + ':' + sec;
    }

    playBtn.addEventListener('click', async () => {
      try {
        await audio.play();
        playBtn.style.display = 'none';
        pauseBtn.style.display = '';
      } catch (err) {
        console.error('Playback error:', err);
        alert('Playback failed: ' + (err && err.message ? err.message : err));
      }
    });

    pauseBtn.addEventListener('click', () => {
      audio.pause();
      pauseBtn.style.display = 'none';
      playBtn.style.display = '';
    });

    audio.addEventListener('play', () => {
      playBtn.style.display = 'none';
      pauseBtn.style.display = '';
    });

    audio.addEventListener('pause', () => {
      pauseBtn.style.display = 'none';
      playBtn.style.display = '';
    });

    audio.addEventListener('timeupdate', () => {
      const pct = (audio.currentTime / (audio.duration || 1)) * 100;
      bar.style.width = pct + '%';
      time.textContent = formatTime(audio.currentTime) + (audio.duration ? ' / ' + formatTime(audio.duration) : '');
    });

    audio.addEventListener('loadedmetadata', () => {
      time.textContent = '0:00 / ' + formatTime(audio.duration);
    });

    progress.addEventListener('click', (e) => {
      const rect = progress.getBoundingClientRect();
      const x = e.clientX - rect.left;
      const pct = x / rect.width;
      if (audio.duration) audio.currentTime = pct * audio.duration;
    });

    volume.addEventListener('input', () => audio.volume = parseFloat(volume.value));
    loop.addEventListener('change', () => audio.loop = loop.checked);
  </script>
</body>
</html>
